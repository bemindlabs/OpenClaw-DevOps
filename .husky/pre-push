#!/bin/sh

echo "üöÄ Running pre-push checks..."

# Build all apps to ensure they compile
echo "üèóÔ∏è  Building all apps..."
pnpm build:all

# Run security verification
echo "üîí Running security verification..."
if [ -f "Makefile" ]; then
  make security-verify 2>/dev/null || echo "‚ö†Ô∏è  Security verification skipped (tools not installed)"
  make security-audit 2>/dev/null || echo "‚ö†Ô∏è  Security audit skipped (tools not installed)"
fi

echo "‚úÖ All pre-push checks passed!"
